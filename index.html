<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Тест</title>

<script src="config.js"></script>

<style>
body{
font-family:Arial;
background:linear-gradient(135deg,#4facfe,#43e97b);
color:white;
text-align:center;
padding:20px;
}

.box{
background:white;
color:black;
padding:20px;
border-radius:10px;
display:inline-block;
}

input{
font-size:18px;
padding:5px;
margin:5px;
width:300px;
}

button{
font-size:18px;
padding:10px;
margin:10px;
}
</style>
</head>
<body>

<div class="box">

<h2>Введите имя</h2>

<input id="name">

<br>

<button onclick="start()">Начать</button>

<div id="test"></div>

</div>

<script>

let studentName="";
let words=[];

function blockStudentProtection(){

document.addEventListener("copy", e=>e.preventDefault());
document.addEventListener("paste", e=>e.preventDefault());

document.addEventListener("keydown", function(e){

if(e.ctrlKey && (e.key==="v"||e.key==="c"))
e.preventDefault();

});

}

blockStudentProtection();

async function loadData(){

const res=await fetch("data.json?"+Date.now());

return await res.json();

}

async function start(){

studentName=document.getElementById("name").value.trim();

if(!studentName)return;

const data=await loadData();

if(!data.students[studentName]){

alert("Ученика нет");

return;

}

words=data.students[studentName].words;

showTest();

}

function showTest(){

let html="<h3>"+studentName+"</h3>";

words.forEach((w,i)=>{

html+=w.ru+"<br>";
html+=`<input id="a${i}"><br><br>`;

});

html+=`<button onclick="save()">Отправить</button>`;

html+=`<button onclick="retry()">Начать новую попытку</button>`;

document.getElementById("test").innerHTML=html;

}

function retry(){

showTest();

}

function save(){

alert("Ответы сохранены (визуально)");

}

</script>

</body>
</html>
