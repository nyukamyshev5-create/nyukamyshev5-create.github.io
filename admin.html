<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Админка</title>

<style>
body{
font-family:Arial;
padding:20px;
}

textarea{
width:100%;
height:120px;
}

button{
margin:5px;
padding:6px 12px;
}
</style>
</head>
<body>

<h2>Админка</h2>

<input id="name" placeholder="Имя ученика">

<textarea id="words" placeholder="слова через enter"></textarea>

<br>

<button onclick="save()">Сохранить</button>

<hr>

<div id="list"></div>

<script>

function getData(){
return JSON.parse(localStorage.getItem("students")||"{}")
}

function saveData(data){
localStorage.setItem("students",JSON.stringify(data))
}

function save(){

const name=document.getElementById("name").value

const words=document.getElementById("words").value.split("\n")

if(!name)return

const data=getData()

if(!data[name])
data[name]={attempts:[]}

data[name].words=words

saveData(data)

load()

}

function deleteStudent(name){

const data=getData()

delete data[name]

saveData(data)

load()

}

function showAttempts(name){

const data=getData()

let html=""

data[name].attempts.forEach((a,i)=>{

html+="<div>Попытка "+(i+1)+" "+a.percent+"%</div>"

})

document.getElementById("attempts_"+name).innerHTML=html

}

function load(){

const data=getData()

const div=document.getElementById("list")

div.innerHTML=""

for(const name in data){

div.innerHTML+=`
<hr>
<b>${name}</b>

<button onclick="deleteStudent('${name}')">
Удалить
</button>

<button onclick="showAttempts('${name}')">
Попытки
</button>

<div id="attempts_${name}"></div>
`

}

}

load()

</script>

</body>
</html>
