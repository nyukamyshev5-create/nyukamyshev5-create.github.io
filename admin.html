<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Админ панель</title>

<style>
body{
  font-family:Arial;
  padding:20px;
}

textarea{
  width:100%;
}

.studentBlock{
  border:1px solid #ccc;
  padding:10px;
  margin-bottom:20px;
}

.firstAttempt{
  background:#f5f5f5;
  padding:10px;
  margin:10px 0;
}

.percent{
  font-weight:bold;
  margin:5px 0;
}

.correct{color:green;}
.wrong{color:red;}
</style>

</head>
<body>

<h2>Инструкция</h2>
<textarea id="instruction" rows="4"></textarea>

<h2>Диктанты учеников</h2>
<p>
Формат:<br>
Имя ученика<br>
русское:english<br>
---<br>
Следующий ученик
</p>

<textarea id="students" rows="10"></textarea>
<br><br>

<button onclick="saveAll()">Сохранить</button>

<hr>
<h2>Результаты учеников</h2>
<div id="results"></div>

<script>

const SETTINGS_BIN = "698f3a3043b1c97be97c510c";
const API_KEY = "$2a$10$sw1K/RXpKK2k3L5l6.wDLuJWKESzfg51etzmCpCb/Q6sEKy0Oudwi";

async function loadSettings(){

 let res = await fetch(`https://api.jsonbin.io/v3/b/${SETTINGS_BIN}/latest`,{
  headers:{ "X-Master-Key":API_KEY }
 });

 let data = await res.json();
 let record = data.record;

 document.getElementById("instruction").value =
   record.instruction || "";

 let students = record.students || {};
 let text="";

 for(let name in students){
   text+=name+"\n";
   students[name].forEach(w=>{
     text+=`${w.ru}:${w.en}\n`;
   });
   text+="---\n";
 }

 document.getElementById("stu
